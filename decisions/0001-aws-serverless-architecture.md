# ADR-0001: AWS サーバーレスアーキテクチャの採用

**日付**: 2025-06-04  
**ステータス**: 承認済み  
**決定者**: 開発チーム

## 背景

Career.fm MVPの技術スタック選定において、Firebase vs AWS サーバーレスアーキテクチャの選択が必要だった。

## 検討した選択肢

### Option 1: Firebase (Google Cloud)
- **メリット**: 
  - 統合された開発体験
  - リアルタイムデータベース
  - 認証システムの簡便性
- **デメリット**: 
  - ベンダーロックイン
  - カスタマイズ性の制限
  - 大規模時のコスト増加

### Option 2: AWS サーバーレス
- **メリット**: 
  - 細かい制御とカスタマイズ性
  - 豊富なAWSサービス連携
  - CDKによるIaC
  - 将来的な拡張性
- **デメリット**: 
  - 初期セットアップの複雑性
  - 学習コストの高さ

## 決定

**AWS サーバーレスアーキテクチャを採用**

### 理由

1. **拡張性**: MVP後の機能拡張でAWSエコシステムの恩恵
2. **コスト効率**: サーバーレスによる従量課金で初期コスト抑制
3. **技術スキル**: AWS/CDKの学習価値
4. **アーキテクチャ**: マイクロサービス構成での柔軟性

### 採用技術スタック

```
- 認証: Cognito User Pool
- API: API Gateway + Lambda (Node.js)
- データベース: DynamoDB + S3
- フロントエンド: Next.js (CloudFront + S3)
- インフラ: AWS CDK v2
```

## 結果

- Phase 1でインフラ基盤を完全構築完了
- CDKによる型安全で再現可能なインフラ
- 月額コスト $0.05 (ほぼ無料枠内)

## 今後の考慮事項

- Cognito + Next.js統合の複雑性に注意
- Lambda Cold Start対策（Phase 3で検討）
- DynamoDB設計の最適化（Phase 3-4で実装）
